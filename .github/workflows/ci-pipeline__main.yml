name: CI Pipeline - MAIN
on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  deploy-qa:
    uses: ./.github/workflows/ci-pipeline.yml
    with:
      git_branch          : 'main'
      release_type        : 'major'
      target_deploy       : 'qa'
      should_increment_tag: true
      deploy_to_aws       : true
    secrets: inherit